<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_operation">
    <sys_ws_operation action="INSERT_OR_UPDATE">
        <active>true</active>
        <consumes>application/json,application/xml,text/xml</consumes>
        <consumes_customized>false</consumes_customized>
        <default_operation_uri/>
        <enforce_acl>cf9d01d3e73003009d6247e603f6a990</enforce_acl>
        <http_method>POST</http_method>
        <name>getUpdate</name>
        <operation_script><![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

var status;
var id;
var requestBody = request.body;
var requestData = requestBody.data; //May be an array or a single object
if (requestData instanceof Array) { 
 //entry = requestData[0].name; // 'user1'
 status = requestData[0].fulfillment_status; // '1234'
 id = requestData[0].id;
} else {
// entry = requestData.name; // 'user1'
 status = requestData.fulfillment_status; // '1234'
 id =  requestData.id;
}
gs.info('This is test id'+ id);
gs.info('This is test string '+ requestData.dataString);
    // implement resource here

if(status=='fulfilled')
{
var correlationId = id.toString(); // Replace with your actual correlation id
var newState = 3; // Replace with the new state you want to set

var gr = new GlideRecord('sc_task'); // 'sc_task' is the default table for Catalog Tasks
gr.addQuery('correlation_id', correlationId); // Replace 'correlation_id' with the actual field name if different
gr.query();

if (gr.next()) {
  gr.setValue('state',3); // Set the new state
  gr.comments='The order has been fulfilled';
  gr.update(); // Update the record
} else {
  gs.info('No record found with the specified correlation ID');
}

}
	

})(request, response);]]></operation_script>
        <operation_uri>/api/x_77533_nowcomme_0/shopifycart</operation_uri>
        <produces>application/json,application/xml,text/xml</produces>
        <produces_customized>false</produces_customized>
        <relative_path>/</relative_path>
        <request_example/>
        <requires_acl_authorization>true</requires_acl_authorization>
        <requires_authentication>false</requires_authentication>
        <requires_snc_internal_role>true</requires_snc_internal_role>
        <short_description/>
        <sys_class_name>sys_ws_operation</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-12-02 21:46:08</sys_created_on>
        <sys_id>b9b7e9fa933a3510ce3d393efaba10e7</sys_id>
        <sys_mod_count>24</sys_mod_count>
        <sys_name>getUpdate</sys_name>
        <sys_package display_value="NowCommerce" source="x_77533_nowcomme_0">69ddf32b9322f510ce3d393efaba10aa</sys_package>
        <sys_policy/>
        <sys_scope display_value="NowCommerce">69ddf32b9322f510ce3d393efaba10aa</sys_scope>
        <sys_update_name>sys_ws_operation_b9b7e9fa933a3510ce3d393efaba10e7</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-12-04 08:43:40</sys_updated_on>
        <web_service_definition display_value="ShopifyCart">bf8729fa933a3510ce3d393efaba1058</web_service_definition>
        <web_service_version/>
    </sys_ws_operation>
</record_update>
